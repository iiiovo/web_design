<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--<link rel="stylesheet" href="https://static.pingendo.com/bootstrap/bootstrap-4.3.1.css">-->
  <link href="../css/theme.css" rel="stylesheet">
  <style>
    form {
      margin: 0;
    }

    textarea {
      display: block;
    }
  </style>
  <link rel="stylesheet" href="../kindeditor/themes/default/default.css">
  <link rel="stylesheet" type="text/css" href="../css/all.css">
</head>

<body>
  <div class="py-5 bg-info">
    <div class="container">
      <div class="row">
        <div class="col-md-4 d-flex flex-column justify-content-center bg-light px-4 pb-4" style="">
          <div class="pb-4">
            <div class="row">
              <div><a href="user_page.html"><i class="fas fa-arrow-left fa-1x p-2 text-dark"></i></a></div>
              <div>
                <h5 class="pt-1 pb-1" contenteditable="true">Back&nbsp;</h5>
              </div>
            </div><a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
              <b>
                <li class="border-0 d-flex justify-content-between align-items-center border-dark">
                  <h5>House-one</h5> <i class="fa fa-pencil-alt text-muted fa-lg"></i>
                </li><small class="text-muted" id="time1" class="content_list_time">3 days ago</small>
              </b>
            </a>
          </div>
          <div class="pb-4">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
              <b>
                <li class="border-0 d-flex justify-content-between align-items-center border-dark">
                  <h5>House-two</h5> <i class="fa fa-pencil-alt text-muted fa-lg"></i>
                </li><small class="text-muted" class="content_list_time">2 days ago</small>
              </b>
            </a>
          </div>
          <div class="pb-4">
            <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
              <b>
                <li class="border-0 d-flex justify-content-between align-items-center border-dark">
                  <h5>House-three</h5> <i class="fa fa-pencil-alt text-muted fa-lg"></i>
                </li><small class="text-muted" class="content_list_time">5 hours age</small>
              </b>
            </a>
          </div>
          <a href="#" class="list-group-item list-group-item-action flex-column align-items-start">
            <b>
              <li class="border-0 d-flex justify-content-between align-items-center border-dark">
                <h5>House-four</h5> <i class="fa fa-pencil-alt text-muted fa-lg"></i>
              </li><small class="text-muted" class="content_list_time">just now</small>
            </b>
          </a>
        </div><b>
       <form>
          <div class="card">
            <div class="card-header bg-white">
              <ul class="nav nav-pills" style="float:right">
                <li class="nav-item"><button class="nav-link btn btn-outline-light" type="submit" name="submit" id="save"><i class="d-block fas fa-lg fa-save text-muted"></i></button></li>
                <li class="nav-item"> <button class="nav-link btn btn-outline-light" type="reset" name="reset" id="delete"><i class="d-block fas fa-lg fa-trash-alt text-muted"></i></button> </li>
              </ul>
            </div>
            <div class="card">
                <textarea name="content" id="content" style="overflow:hidden;width:100%;min-height:500px; visibility:hidden;"></textarea>
                <!--<p>
                  <input type="button" name="clear" value="清空内容">
                  <input type="reset" name="reset" value="Reset">
                </p>-->
            </div>
              </form>
            
          </div>
        </b>
      </div><b>
      </b>
    </div><b>
    </b>
    <div class="container">
      <div class="row">
        <div class="col-md-12 text-center pt-3 pb-2">
          <p class="mb-1 h6 text-light">© 2018-2019 发际线保卫队</p>
          <ul class="list-inline">
            <li class="list-inline-item ">
              <a href="#" class="text-dark h6">Privacy</a>
            </li>
            <li class="list-inline-item">
              <a href="#" class="text-dark h6">Terms</a>
            </li>
            <li class="list-inline-item">
              <a href="#" class="text-dark h6">Support</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

    <script src="../js/jquery-3.3.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script src="http://www.googletagservices.com/activeview/js/current/osd.js?cb=%2Fr20100101"></script>
    <script src="http://pagead2.googlesyndication.com/pub-config/r20160913/ca-pub-7116729301372758.js"></script>
    <script charset="utf-8" src="../kindeditor/kindeditor-all-min.js"></script>
    <script charset="utf-8" src="../kindeditor/lang/zh-CN.js"></script>
    <script>
      var editor;
      KindEditor.ready(function(K) {
        editor = K.create('textarea[name="content"]', {
          allowFileManager: true
        });
        K('input[name=getHtml]').click(function(e) {
          alert(editor.html());
        });
        K('input[name=isEmpty]').click(function(e) {
          alert(editor.isEmpty());
        });
        K('input[name=getText]').click(function(e) {
          alert(editor.text());
        });
        K('input[name=selectedHtml]').click(function(e) {
          alert(editor.selectedHtml());
        });
        K('input[name=setHtml]').click(function(e) {
          editor.html('<h3>Hello KindEditor</h3>');
        });
        K('input[name=setText]').click(function(e) {
          editor.text('<h3>Hello KindEditor</h3>');
        });
        K('input[name=insertHtml]').click(function(e) {
          editor.insertHtml('<strong>插入HTML</strong>');
        });
        K('input[name=appendHtml]').click(function(e) {
          editor.appendHtml('<strong>添加HTML</strong>');
        });
        K('input[name=clear]').click(function(e) {
          editor.html('');
        });
      });
    </script>
     <script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
     <script> 
    //获取前端编辑数据 
    axios .post('/qiju/user/house_edit', { 
     content : $("#content").html()
     }).then(function(response) { 
       console.log(response); 
    if (response.data.code === 1)  alert("成功啦") ;//location.href="/login.html";  
    else alert("Ooh，编辑失败了，请稍后再试") ;          //如果失败的话建议给个提示，比如弹个框之类的 
      }).catch(function(error){ 
        console.log(error); 
      });

   //获取时间差，动态显示最近编辑时间，尝试失败
      
 // $("#save").click(function() {
       // var global_time = ((new Date()).getTime() + '').substring(0, 10);((new Date()).getTime() + '')  
        //是将整形变成字符串。
        //substring(0, 10) 
        //只用于截取字符串，是从第0个开始截取，截取10个。  
 /*     startTime();
      function startTime() {        
      var today = new Date();        
      var y = today.getFullYear();        
      var M = today.getMonth()+1;        
      var d = today.getDate();        
      var w = today.getDay();        
      var h = today.getHours();        
      var m = today.getMinutes();        
      var s = today.getSeconds();        
      var week=['星期天','星期一','星期二','星期三','星期四','星期五','星期六']; 
      // add a zero in front of numbers<10        
      m = checkTime(m);        
      s = checkTime(s);        
      $('#time1').html('现在是：'+h+':'+m+':'+s+' '+y+'年'+M+'月'+d+"日 "+week[w]);//可改变格式        
      t = setTimeout(startTime, 500);        
      function checkTime(i) {            
        if (i < 10) {                
          i = "0" + i;            
        }            
        return i;        
      }    
    }
       function getFormatDate(){    
        var nowDate = new Date();    
        var year = nowDate.getFullYear();    
        var month = nowDate.getMonth() + 1 < 10 ? "0" + (nowDate.getMonth() + 1) : nowDate.getMonth() + 1;    
        var date = nowDate.getDate() < 10 ? "0" + nowDate.getDate() : nowDate.getDate();    
        var hour = nowDate.getHours()< 10 ? "0" + nowDate.getHours() : nowDate.getHours();   
        var minute = nowDate.getMinutes()< 10 ? "0" + nowDate.getMinutes() : nowDate.getMinutes();    
        var second = nowDate.getSeconds()< 10 ? "0" + nowDate.getSeconds() : nowDate.getSeconds();    
        return year + "-" + month + "-" + date+" "+hour+":"+minute+":"+second;}
        var str = getFormatDate();console.log(str);
        $(".content_list_time").text(str);
*/
      //  });
  </script>
</body>

</html>