<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/static/css/setup.min.css" />
    <link rel="stylesheet" href="/static/css/animation.css" />
    <link rel="stylesheet" href="/static/css/style.css" />
    <link rel="stylesheet" href="/static/css/add.css" />
    <link rel="stylesheet" href="/static/css/all.css" type="text/css" />
    <link rel="stylesheet" href="/static/scss/theme.css" />
    <link href="/static/css/Home.css" rel="stylesheet" type="text/css" />
    <link
    rel="stylesheet"
    href="https://cdn.bootcss.com/font-awesome/5.8.2/css/fontawesome.min.css"
    type="text/css"
  />
    <!--修改用户头像图片预览-->
    <style type="text/css">
      #preview {
        float: left;
        border: none;
      }

      #preview img {
        margin-right: 10px;
        width: 150px;
        height: 150px;
        border-radius: 50%;
      }
      @font-face {
        font-family: qiju;
        src: url('https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/fonts/CYHLSFT.ttf');
      }
    </style>
  </head>

  <body>
    <div class="py-3 px-5" style="background-color:#eee;">
      <div style="background-color:#fff;border-radius:1rem;">
        <div class="row col-12">
          <div class="col-1" style="padding-left:0px;">
            <div class="col">
              <a
                class="text-muted"
                href="../index.html"
                style="text-decoration:none;"
              >
                <p class="fa fa-1x pl-1 mt-2">Back Home</p>
              </a>
              <button
                type="button"
                class="btn text-muted"
                title=""
                data-container="body"
                data-toggle="popover"
                data-placement="right"
                data-content="QQ number."
              >
                <i class="fab fa-qq fa-1x py-2 pl-1"></i>
              </button>
              <button
                type="button"
                class="btn text-muted"
                data-container="body"
                data-toggle="popover"
                data-placement="right"
                data-content="Wechat number."
              >
                <i class="fab fa-weixin fa-1x my-2 ml-1"></i>
              </button>
              <button
                type="button"
                class="btn text-muted"
                data-container="body"
                data-toggle="popover"
                data-placement="right"
                data-content="Instagram number."
              >
                <i class="fab fa-instagram fa-1x my-2 ml-1"></i>
              </button>
              <button
                type="button"
                class="btn text-muted"
                data-container="body"
                data-toggle="popover"
                data-placement="right"
                data-content="Facebook number."
              >
                <i class="fab fa-facebook fa-1x my-2 ml-1"></i>
              </button>
              <button
                type="button"
                class="btn text-muted"
                data-container="body"
                data-toggle="popover"
                data-placement="right"
                data-content="Youtobe number."
              >
                <i class="fab fa-youtube fa-1x my-2 ml-1"></i>
              </button>
              <button
                type="button"
                class="btn text-muted"
                data-container="body"
                data-toggle="popover"
                data-placement="right"
                data-content="Twitter number."
              >
                <i class="fab fa-twitter fa-1x my-2 ml-1"></i>
              </button>
            </div>
          </div>
          <div class="col-11">
            <!--section1-->
            <div class="row">
              <div class="container">
                <div class="row">
                  <div class="col-md-12">
                    <ul class="nav nav-pills my-2">
                      <li class="nav-item">
                        <a href="#" class="nav-link">
                          <i class="d-block far fa-lg fa-building text-body"></i
                        ></a>
                      </li>
                      <li>
                        <h2 style="font-family:qiju;">栖居</h2>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <!--section2-->
            <div>
              <div
                class="py-1 text-center"
                style="background-position: 
            center center, center center;  background-size: cover, cover;  
            background-repeat: repeat, repeat;"
              >
                <div class="container">
                  <div class="row">
                    <div>
                      <div class="row" id="personal_info">
                        <div class="col">
                          <img
                            id="user_image"
                            style="width: 100px; height: 100px; border-radius: 50%; background-size: contain; background-image: url(/static/svgs/profile_pic.svg)"
                            class="img-fluid d-block rounded-circle mx-2 mb-3"
                          />
                        </div>
                        <div
                          class="col-7 d-flex flex-column justify-content-center text-left"
                        >
                          <h4>user-name</h4>
                          <p>
                            A wonderful serenity has taken possession of my
                            entire soul, like these sweet mornings of spring
                            which I enjoy with my whole heart.
                          </p>
                        </div>
                        <div class="col-md-3">
                          <div class="row">
                            <div class="col">
                              <a
                                data-toggle="modal"
                                data-target=".roomates"
                                class="btn btn-light mr-2"
                                href="#"
                                style="border-radius:50%;"
                              >
                                <i
                                  class="fas fa-user-friends fa-fw fa-1x py-1"
                                ></i>
                              </a>
                              <a
                                data-toggle="modal"
                                data-target=".user_edit"
                                class="btn btn-light"
                                href="#"
                                style="border-radius:50%;"
                              >
                                <i
                                  class="fas fa-user-edit fa-fw fa-1x py-1"
                                ></i>
                              </a>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <!--section3-->
            <div>
              <div class="container" style="padding-left: 0;">
                <div class="row">
                  <div class="col-md-12">
                    <ul class="nav nav-bar">
                      <!-- <li class="nav-item navigator"> <a class="nav-link active show" href="#" data-toggle="pill" data-target="#tabone"><i class="fa fa-1x fa-bed">居住体验及评价</i></a> </li>-->
                      <li class="nav-item navigator">
                        <a
                          class="nav-link"
                          href="#"
                          data-toggle="pill"
                          data-target="#tabtwo"
                          ><i class="fa fa-1x fa-home">发布我的房源</i></a
                        >
                      </li>
                      <li class="nav-item navigator">
                        <a
                          class="nav-link"
                          href="#"
                          data-toggle="pill"
                          data-target="#tabthree"
                          ><i class="fa fa-box fa-1x">发布我的闲置物品</i></a
                        >
                      </li>
                      <li class="nav-item navigator">
                        <a
                          id="linkTotabfour"
                          class="nav-link"
                          href="#"
                          data-toggle="pill"
                          data-target="#tabfour"
                          ><i class="fa fa-1x fa-home">收藏的房源</i></a
                        >
                      </li>
                      <li class="nav-item navigator">
                        <a
                          class="nav-link"
                          href="#"
                          data-toggle="pill"
                          data-target="#tabfive"
                          ><i class="fa fa-1x fa-box">收藏的闲置物品</i></a
                        >
                      </li>
                    </ul>
                    <div class="tab-content" style="background-color: #eee;">
                      <!--section3.1-->
                      <!--<div class="tab-pane fade active show" id="tabone" role="tabpanel">
                      <div class="py-2">
                        <div class="container">
                          <div class="row">
                            <div class="col-lg-8 p-md-5 p-3 d-flex flex-column justify-content-center">
                              <h1>Experience with joy&nbsp;</h1>
                              <p class="mb-0"> 在栖居上邂逅不一样的人，分享不一样的租房体验。 在这个信息平台可以很方便的获取二手房信息，个性化查询二手房。 在学校附近寻找一片小空间独居，沉淀自己。你看，这些是我的居 住体验。这些日子，我在西大过得很好 <b>：</b>) </p>
                            </div>
                            <div class="col-lg-4 p-3">
                             <img class="d-block w-100" src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/gif/OFAF.gif" style="box-shadow: 5px 5px 10px #ccc">
                            -->
                      <!-- <div id="carousel2" class="carousel slide pointer-event" data-ride="carousel" data-interval="5000">
                                <div class="carousel-inner">
                                  <div class="carousel-item active">-->
                      <!--<img class="d-block w-100" src="https://static.pingendo.com/img-placeholder-1.svg">-->
                      <!--   <img class="d-block w-100" src="/static/svgs/apartment_rent.svg">
                                  </div>
                                  <div class="carousel-item">
                                    <img class="d-block  w-100" src="/static/svgs/adventure.svg">
                                  </div>
                                  <div class="carousel-item">
                                    <img class="d-block w-100" src="/static/svgs/social_life.svg">
                                  </div>
                                </div>
                                <a class="carousel-control-prev" href="#carousel2" role="button" data-slide="prev">
                                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                </a>
                                <a class="carousel-control-next" href="#carousel2" role="button" data-slide="next">
                                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                </a>
                              </div>
                              -->
                      <!--   </div>
                          </div>
                        </div>-->
                      <!--
                        <div class="py-1">
                          <div class="container">
                            <div class="row">
                              <div class="col-lg-4 p-3 col-md-6">
                                <div class="card" style="box-shadow: 5px 5px 10px #ccc">
                                  <div class="card-body p-4">
                                    <h2> <b>One</b> </h2>
                                    <p>A wonderful serenity has taken possession of my entire soul, like these sweet mornings of spring which I enjoy with my whole heart. </p>
                                    <p class="mb-0 lead">
                                      <a href="remark_edit.html">Edit</a>
                                    </p>
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-4 p-3 col-md-6">
                                <div class="card" style="box-shadow: 5px 5px 10px #ccc">
                                  <div class="card-body p-4">
                                    <h2> <b>Two</b> </h2>
                                    <p>I should be incapable of drawing a single stroke at the present moment; and yet I feel that I never was a greater artist than now. </p>
                                    <p class="mb-0 lead">
                                      <a href="remark_edit.html">Edit</a>
                                    </p>
                                  </div>
                                </div>
                              </div>
                              <div class="col-lg-4 p-3">
                                <div class="card" style="box-shadow: 5px 5px 10px #ccc">
                                  <div class="card-body p-4">
                                    <h2> <b>Three</b> </h2>
                                    <p>I throw myself down among the tall grass by the trickling stream; and, as I lie close to the earth, a thousand unknown plants are noticed by me. </p>
                                    <p class="mb-0 lead">
                                      <a href="remark_edit.html">Edit</a>
                                    </p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
          -->
                      <!--</div>
                    </div>-->
                      <!--section3.2-->
                      <div
                        class="tab-pane fade active show "
                        id="tabtwo"
                        role="tabpanel"
                      >
                        <div class="container">
                          <div class="row pb-1">
                            <div class="col-md-12 p-3">
                              <img
                                class="img-fluid d-block"
                                style="box-shadow: 10px 10px 10px #ccc"
                                src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/img/house-post.jpg"
                              />
                            </div>
                          </div>
                          <div class="row" id="postHouse">
                            <!-- 
                          <div class="col-md-4 p-3" style="float: left;" id="house1">
                            <div class="card box-shadow" style="box-shadow: 5px 5px 10px #ccc">
                              <img class="card-img-top" src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/img/building4.jpg">
                              <div class="card-body">
                                <h5>地址</h5>
                                <i class="fa fa-jpy d-inline" aria-hidden="true"><h7>300/月</h7><h7>（可砍价）</h7></i><div class="d-flex justify-content-between align-items-center">
                                  <div class="btn-group pt-2">
                                    <a data-toggle="modal" data-target="#house_view1" href="../house/onehouse.html" class="btn btn-sm btn-outline-secondary">详情</a>
                                    <a href="../house/house_edit.html" class="btn btn-sm btn-outline-secondary"> 编辑</a>
                                  </div>
                                  <small class="text-muted">创建时间: 9 mins</small>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4 p-3" style="float: left;" id="house2">
                            <div class="card box-shadow" style="box-shadow: 5px 5px 10px #ccc">
                              <img class="card-img-top" src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/img/building4.jpg">
                              <div class="card-body">
                                <h5>荣昌区-学院路-万隆小区-整套房子出租-离学校非常近！</h5>
                                  <i class="fa fa-jpy d-inline" aria-hidden="true"> <h7>300/月</h7><h7></h7>（可砍价）</h7></i>
                                  <div class="d-flex justify-content-between align-items-center">
                                  <div class="btn-group pt-2">
                                    <a data-toggle="modal" data-target="#house_view2" href="../house/onehouse.html" class="btn btn-sm btn-outline-secondary"> 详情</a>
                                    <a href="../house/house_edit.html" class="btn btn-sm btn-outline-secondary"> 编辑</a>
                                  </div>
                                  <small class="text-muted">(create_time)9 mins</small>
                                </div>
                              </div>
                            </div>
                          </div> -->
                            <div
                              class="col-md-4"
                              style="float:left;padding: 15%"
                            >
                              <button
                                class="btn btn-primary"
                                style="border-radius:50%;"
                                id="append1"
                              >
                                <i class="fa fa-plus fa-fw fa-1x py-1"></i>
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--section3.3-->
                      <div class="tab-pane fade" id="tabthree" role="tabpanel">
                        <!--chart-->
                        <!--<h4 class="mb-3 text-center">Analysis chart</h4>-->
                        <!--edit part-->
                        <div class="">
                          <div class="container">
                            <div class="row pb-1">
                              <div class="col-md-12 p-3">
                                <img
                                  class="img-fluid d-block"
                                  style="box-shadow: 10px 10px 10px #ccc"
                                  src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/img/item-post.jpg"
                                />
                              </div>
                            </div>
                            <div class="row" id="postItem">
                              <div
                                class="col-md-4"
                                style="float:left;padding: 15%"
                              >
                                <button
                                  class="btn btn-primary"
                                  style="border-radius:50%;"
                                  id="append2"
                                >
                                  <i class="fa fa-plus fa-fw fa-1x py-1"></i>
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--section3.4-->
                      <div class="tab-pane fade" id="tabfour" role="tabpanel">
                        <div class="">
                          <div class="container">
                            <div class="row pb-1">
                              <div class="col-md-12 p-3">
                                <img
                                  class="img-fluid d-block"
                                  style="box-shadow: 10px 10px 10px #ccc"
                                  src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/img/house-collect.jpg"
                                />
                              </div>
                            </div>
                            <div class="row" id="collectHouse">
                              <!-- 收藏房源 显示容器 -->
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--section3.5-->
                      <div class="tab-pane fade" id="tabfive" role="tabpanel">
                        <div class="">
                          <div class="container">
                            <div class="row pb-1">
                              <div class="col-md-12 p-3">
                                <img
                                  class="img-fluid d-block"
                                  style="box-shadow: 10px 10px 10px #ccc"
                                  src="https://qiju-1252919816.cos.ap-chongqing.myqcloud.com/static/img/item-collect.jpg"
                                />
                              </div>
                            </div>
                            <div class="row" id="collectItem">
                              <!-- 收藏的闲置物品显示区 -->
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="container">
            <div class="row">
              <div class="col-md-12 text-center pt-3 pb-2">
                <p class="mb-1 h6 text-muted">© 2018-2019 发际线保卫队</p>
                <ul class="list-inline text-muted">
                  <li class="list-inline-item text-white">
                    <a class="text-info h6">Privacy</a>
                  </li>
                  <li class="list-inline-item">
                    <a class="text-info h6">Terms</a>
                  </li>
                  <li class="list-inline-item">
                    <a class="text-info h6">Support</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal fade roomates">
      <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
          <div class="modal-header bg-light">
            <h3 class="">我的室友（待开发）</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">×</span>
            </button>
          </div>
          <div class="modal-body bg-light">
            <div class="container">
              <div class="row">
                <div class="py-md-4 order-1 order-lg-1 text-lg-right d-flex 
                flex-column justify-content-between px-3 col-lg-3">
                  <div class="row">
                    <div class="col-12">
                      <i class="d-block fas fa-user-circle mb-1 
                    text-muted fa-2x text-center"></i>
                      <p class="lead mb-1 text-center">
                        <b>Mike</b>
                      </p>
                      <p class="text-center">Telephone:11111111111</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <i class="d-block far fa-user-circle mb-1 
                    text-muted fa-2x text-center"></i>
                      <p class="lead mb-1 text-center">
                        <b>John</b>
                      </p>
                      <p>Telephone:22222222222</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <i class="d-block fas fa-user-circle mb-1 
                    text-muted fa-2x text-center"></i>
                      <p class="lead mb-1 text-center">
                        <b>Katty</b>
                      </p>
                      <p>Telephone:33333333333</p>
                    </div>
                  </div>
                </div>
                <div class="order-3 order-lg-2 col-md-6 col-lg-5 mx-3">
                  <img class="img-fluid d-block" src="https://static.pingendo.com/img-placeholder-mobile.svg">
               </div>
                <div class="py-md-4 order-2 order-lg-3 d-flex flex-column 
                justify-content-between col-md-6 px-2 col-lg-3">
                  <div class="row">
                    <div class="col-12">
                      <i class="d-block far fa-user-circle mb-1 
                    text-muted fa-2x text-center"></i>
                      <p class="lead mb-1 text-center">
                        <b>Mia</b>
                      </p>
                      <p>Telephone:44444444444</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <i class="d-block mb-1 text-muted fa-2x fas 
                    fa-user-circle text-center"></i>
                      <p class="lead mb-1 text-center">
                        <b>Zurine</b> </p>
                      <p>Telephone:55555555555</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <i class="d-block far fa-user-circle 
                    mb-1 text-muted fa-2x text-center"></i>
                      <p class="lead mb-1 text-center">
                        <b>Brany</b>
                      </p>
                      <p>Telephone:66666666666</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- 显示闲置物品信息的 modal -->
    
    <div class="modal fade" id="item_view1">
        <div
          class="modal-dialog modal-lg"
          role="document"
        >
          <div class="modal-content">
            <div class="modal-header bg-light">
              <h5 class="modal-title">物品详情</h5>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">×</span>
              </button>
            </div>
            <div class="modal-body bg-light w-100 h-50">
              <div class="row">
                <div class="col-md-12">
                  <div
                    class="carousel slide mx-2"
                    data-ride="carousel"
                    id="carousel"
                  >
                    <div class="carousel-inner">
                      <div class="carousel-item active">
                        <img
                          class="d-block img-fluid w-100"
                          src="https://static.pingendo.com/cover-bubble-light.svg"
                        />
                      </div>
                    </div>
                    <a
                      class="carousel-control-prev"
                      href="#carousel"
                      role="button"
                      data-slide="prev"
                    >
                      <span
                        class="carousel-control-prev-icon"
                      ></span>
                      <span class="sr-only"
                        >Previous</span
                      >
                    </a>
                    <a
                      class="carousel-control-next"
                      href="#carousel"
                      role="button"
                      data-slide="next"
                    >
                      <span
                        class="carousel-control-next-icon"
                      ></span>
                      <span class="sr-only">Next</span>
                    </a>
                  </div>
                </div>
              </div>
              <div class="container h-50">
                <div class="row h-50">
                  <div class="col-md-12 col-lg-12 mt-1">
                    <div class="row"></div>
                    <div class="card text-center">
                      <div class="card-header">
                        <ul
                          class="nav nav-tabs card-header-tabs"
                        >
                          <li class="nav-item">
                            <a  href="#"
                              class="nav-link active show"
                              data-toggle="tab"
                              data-target="#tab1"
                              >详细信息</a
                            >
                          </li>
                          <li class="nav-item">
                            <a href="#"
                              class="nav-link"
                              data-toggle="tab"
                              data-target="#tab2"
                              >联系方式</a
                            >
                          </li>
                          <!--<li class="nav-item">
                            <a class="btn btn-primary px-3">
                              <i id="starOfIdle"
                              :class="item_collect_status ? 'fas' : 'far'"
                              class="collect fa-star fa-fw fa-1x py-1"
                              ></i
                            ></a>   
                          </li>-->
                        </ul>
                      </div>
                      <div class="card-body h-50">
                        <div class="tab-content mt-2">
                          <div
                            class="tab-pane fade active show"
                            id="tab1"
                            role="tabpanel"
                          >
                            <p
                              id="xzwpjbxx"
                              class="text-justify"
                            >
                            这个人很懒，还没有留下闲置物品基本信息哦
                            </p>
                          </div>
                          <div
                            class="tab-pane fade"
                            id="tab2"
                            role="tabpanel"
                          >
                            <p
                              id="all_contact"
                              class=""
                            >
                              这个人很懒，还没有留下联系方式哦
                            </p>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!----------------user_edit modal------------------->
      <div class="modal fade user_edit" id="reg-form">
        <div class="modal-dialog modal-lg" role="document">
          <div class="modal-content">
            <div class="modal-header bg-light">
              <h3 class="">修改个人信息</h3>
              <button
                type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
              >
                <span aria-hidden="true">×</span>
              </button>
            </div>
            <div class="modal-body bg-light">
              <div class="row">
                <div class="col-md-12">
                  <div class="row mb-2">
                    <!--leftpart-->
                    <div class="col-md-3 ml-4">
                      <div class="row">
                        <div class="col-md-12">
                          <div
                            class="pb-2 form-group img-fluid d-block 
                        rounded-circle d-inline-flex"
                            id="preview"
                          >
                            <img
                              class="img-fluid d-block rounded-circle d-inline-flex"
                              style="border-radius: 50%;"
                              src="/static/svgs/img-placeholder-3.svg"
                              width="150"
                            />
                          </div>
                        </div>
                      </div>
                      <div class="input-group">
                        <span class="" style="z-index:2">
                          <input
                            type="file"
                            style=" opacity: 0;filter: alpha(opacity=0);
                        width:12rem"
                            accept="image/*"
                            id="userimage"
                          />
                          <input id="user_image_url" type="hidden" />
                        </span>
                        <div
                          style="z-index:1;position:fixed;float: left;min-width:9.2rem;
                        width:auto;padding-top: .5rem;"
                          class=" text-center btn btn-outline-dark 
                        navbar-btn"
                          id="upload"
                        >
                          浏 览
                        </div>
                      </div>
                    </div>
                    <!--rightpart-->
                    <div class="col">
                      <div class="">
                        <label for="inputuser_name">
                          <i class="fas fa-user-edit fa-1x"></i>
                        </label>
                        <input
                          type="text"
                          class="form-control"
                          id="inputuser_name"
                          placeholder="new name"
                          easyform="length:4-16;char-normal;
                        real-time;"
                          message="用户名必须为4—16位的英文字母或数字"
                          easytip="disappear:lost-focus;theme:blue;"
                          ajax-message="Ooh，
                        该用户名已存在哦"
                          required=""
                          autofocus=""
                        />
                      </div>
                      <div class="py-1 pb-1">
                        <label for="gender">
                          <i class="fas fa-venus-mars fa-1x"></i>
                        </label>
                        <select
                          class="custom-select d-block w-100"
                          id="gender"
                          required=""
                        >
                          <option value="">修改性别信息</option>
                          <option value="male">男</option>
                          <option value="female">女</option>
                        </select>
                        <div class="invalid-feedback">请选择性别.</div>
                      </div>
                      <div class="">
                        <label for="region">
                          <i class="fas fa-map-marker-alt fa-1x"></i>
                        </label>
                        <select
                          class="custom-select d-block w-100"
                          id="region"
                          required=""
                        >
                          <option value="">修改地区信息</option>
                          <option value="rongchang">荣昌校区</option>
                          <option value="beibei">北碚校区</option>
                          <option value="other"
                            >其他(含提供住房信息的非校内人员)</option
                          >
                        </select>
                        <div class="invalid-feedback">请选择一个具体校区.</div>
                      </div>
                    </div>
                    <!--rightpart-->
                  </div>
                  <div class="py-2">
                    <p class="h5 text-center">© 2018-2019</p>
                  </div>
                </div>
              </div>
              <div class="modal-footer bg-light">
                <button
                  id="hiden-modal"
                  type="button"
                  class="btn btn-outline-dark 
              navbar-btn"
                  data-dismiss="modal"
                >
                  取消
                </button>
                <input
                  id="save_update_info"
                  value="保存"
                  type="button"
                  class="btn btn-outline-dark navbar-btn"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <!----------------------modal part--------------------->
      <div id="modals" class="row"></div>
    </div>
    <script src="https://cdn.staticfile.org/axios/0.18.0/axios.min.js"></script>
    <script src="https://cdn.staticfile.org/jquery/2.2.4/jquery.min.js"></script>
    <script src="/static/js/easyform.js"></script>
    <!-- <script src="/static/js/popover.js"></script> -->
    <script type="text/javascript">
      $(function() {
        $('#reg-form').easyform();
        $("[data-toggle='popover']").popover();
      });
    </script>
    <script src="https://cdn.bootcss.com/popper.js/1.15.0/umd/popper.min.js"></script>
    <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="/static/js/timedifference-zh.js"></script>
    <script>
      // 渲染复用的模态框
      function renderIdleModal(ele) {
        var thisItem = {};
        try {
          thisItem = JSON.parse(ele.dataset.idle);
        } catch (error) {
          console.log(error);
        }
        $('#item_view1 .carousel-item img').attr('src', thisItem.item_image);
        $('#xzwpjbxx').html(thisItem.description);
        // $('#starOfIdle')[0].onclick = function() {
        //   axios.post('/qiju/user/collectItem', {
        //     item_id: '' + thisItem.item_id
        //   }).then(({ data }) => {
        //     if (data.code === 1) {
        //       console.log(data); 
        //     } 
        //   });
        // };
        $('#all_contact').html(
          `Phone: ${thisItem.phone || '无'} | QQ: ${thisItem.qq ||
            '无'} | 微信: ${thisItem.wechat || '无'}`
        );

        console.log(thisItem);
      }
       //-----------------------闲置物品收藏js----------------------//
    /*function toCollectItem(ele) {
      axios
        .post('/qiju/user/collectItem', {
          item_id: ele.id
        })
        .then(function (response) {
          console.log(response);
          // 已登录
          // 切换收藏状态
          if (response.data.code === 1) {
            var thisItemCollect = $(ele).find('i');
            if (thisItemCollect.hasClass('far')) {
              thisItemCollect.removeClass('far').addClass('fas');
            } else {
              thisItemCollect.removeClass('fas').addClass('far');
            }
          }
        })
        .catch(function (error) {
          console.log(error);
        });
    }*/
      // 渲染用户资料
      axios.get('/qiju/user/profile').then(({ data }) => {
        if (data.code === 1) {
          console.log('data', data);
          data = data.data;
          // setTimeout(() => {
          if (data.user_image) {
            $('#user_image').css({
              'background-image': `url(${data.user_image})`
            });
          }
          $('#personal_info h4').html(data.user_name);
          // }, 1000);
        }
      });
      //新增模块
      //发布房源——显示已发布的房子
      axios
        .get('/qiju/user/getAllMyHouse')
        .then(function(res) {
          if (res.data.code === 1) {
            var houseList = res.data.data.list;
            var length = houseList.length;
            for (var i = 0; i < length; i++) {
              var thisHouse = houseList[i];
              var price_discuss = thisHouse.price_discuss
                ? '可议价'
                : '不可议价';
              var create_time = vagueTime.get({
                from: Date.now(),
                to: new Date(thisHouse.create_time).getTime(),
                units: 'ms'
              });
              $('#postHouse.row').prepend(`
          <div class="col-md-4 p-3" style="float: left;" id="${
            thisHouse.house_id
          }">
            <div class="card box-shadow" style="box-shadow: 5px 5px 10px #ccc">
              <img class="card-img-top" src="${
                thisHouse.house_image[0]
              }" height="220px">
               <div class="card-body">
                <h5>${thisHouse.address}</h5>
                 <i class="fa fa-jpy d-inline" aria-hidden="true"><h7>${
                   thisHouse.price
                 }/月</h7><h7>（${price_discuss}）</h7></i><div class="d-flex justify-content-between align-items-center">
                <div class="btn-group pt-2">
               <a target="_blank" href="/house/onehouse.html#/page/${
                 thisHouse.house_id
               }" class="btn btn-sm btn-outline-secondary">详情</a>
              <a href="/house/house_edit.html#/page/${
                thisHouse.house_id
              }" class="btn btn-sm btn-outline-secondary"> 编辑</a>
             </div>
            <small class="text-muted">创建: ${create_time}</small>
          </div>
         </div>
        </div>
      </div>`);
            }
          } else {
            alter('暂无数据');
          }
        })
        .catch(function(error) {
          console.log(error);
        });

      // var count1 = 2;
      // var number1 = 3;
      var count1 = length;
      var number1 = length + 1;
      //发布房源——增加房子
      $('#append1').click(function() {
        window.location.href = '/house/house_edit.html';
      });
    </script>
    <script>
      //发布闲置物品——显示已增加的闲置物及其展示框
      axios
        .get('/qiju/user/getAllMyIdleItem')
        .then(function(res) {
          if (res.data.code === 1) {
            var itemList = res.data.data.list;
            var length = itemList.length;
            for (var i = 0; i < length; i++) {
              var thisItem = itemList[i];
              var price_discuss = thisItem.price_discuss
                ? '可议价'
                : '不可议价';
              var create_time = vagueTime.get({
                from: Date.now(),
                to: new Date(thisItem.create_time).getTime(),
                units: 'ms'
              });
              $('#postItem.row')
                .prepend(`<div class="col-md-4 p-3" style="float: left;" id="${
                thisItem.item_id
              }">
            <div class="card box-shadow" style="box-shadow: 5px 5px 10px #ccc">
              <img class="card-img-top" src="${
                thisItem.item_image
              }" height="220px">
               <div class="card-body">
                <h5>${thisItem.description}</h5>
                 <i class="fa fa-jpy d-inline" aria-hidden="true"><h7>${
                   thisItem.price
                 }</h7><h7>（${price_discuss}）</h7></i><div class="d-flex justify-content-between align-items-center">
                <div class="btn-group pt-2">
               <a onclick="renderIdleModal(this)" data-idle='${JSON.stringify(
                 thisItem
               )}' data-toggle="modal" data-target="#item_view1" href="house/onehouse.html" class="btn btn-sm btn-outline-secondary">详情</a>
              <a href="/item/item_edit.html#/page/${thisItem.item_id}" class="btn btn-sm btn-outline-secondary"> 编辑</a>
             </div>
            <small class="text-muted">创建: ${create_time}</small>
          </div>
         </div>
        </div>
        </div>`);
            }
          } else {
            alter('暂无数据');
          }
        })
        .catch(function(error) {
          console.log(error);
        });
      var count2 = length;
      var number2 = length + 1;
      //发布闲置物品——增加闲置物及其展示框
      $('#append2').click(function() {
        window.location.href = '/item/item_edit.html';
        return;
      });
    </script>
    <script>
      // 当点击收藏房源列表的时候再加载 提高页面加载速度
      // 当鼠标经过时（点击之前）预加载 防止插入时页面抖动
      // TO DO 兼容手机端
      $('#linkTotabfour').one('mouseenter', function(e) {
        console.log(new Date().toLocaleTimeString());
        //------------收藏房源显示------------//
        axios
          .get('/qiju/user/getAllMyCollectHouse')
          .then(function(res) {
            if (res.data.code === 1) {
              var houseList = res.data.data.list;
              //var length = houseList.length;
              for (var i = 0; i < houseList.length; i++) {
                var thisHouse = houseList[i];
                var price_discuss = thisHouse.price_discuss
                  ? '可议价'
                  : '不可议价';
                var create_time = vagueTime.get({
                  from: Date.now(),
                  to: new Date(thisHouse.create_time).getTime(),
                  units: 'ms'
                });
                $('#collectHouse.row').append(`
            <div class="col-md-4 p-3" style="float: left;" id="${
              thisHouse.house_id
            }">
              <div class="card box-shadow" style="box-shadow: 5px 5px 10px #ccc">
                <img class="card-img-top" src="${
                  thisHouse.house_image[0]
                }" height="220px">
                <div class="card-body">
                  <h5>${thisHouse.address}</h5>
                  <i class="fa fa-jpy d-inline" aria-hidden="true"><h7>${
                    thisHouse.price
                  }/月</h7><h7>（${price_discuss}）</h7></i><div class="d-flex justify-content-between align-items-center">
                  <div class="btn-group pt-2">
                <a target="_blank" href="/house/onehouse.html#/page/${
                  thisHouse.house_id
                }" class="btn btn-sm btn-outline-secondary">详情</a>
              </div>
              <small class="text-muted">创建: ${create_time}</small>
            </div>
          </div>
          </div>
        </div>`);
              }
            } else {
              alter('暂无数据');
            }
          })
          .catch(function(error) {
            console.log(error);
          });
      });

      //-----------收藏的闲置物品显示------------//
      axios
        .get('/qiju/user/getAllMyCollectIdleItem')
        .then(function(res) {
          if (res.data.code === 1) {
            var itemList = res.data.data.list;
            var length = itemList.length;
            for (var i = 0; i < length; i++) {
              var thisItem = itemList[i];
              var price_discuss = thisItem.price_discuss
                ? '可议价'
                : '不可议价';
              var create_time = vagueTime.get({
                from: Date.now(),
                to: new Date(thisItem.create_time).getTime(),
                units: 'ms'
              });
              $('#collectItem.row')
                .prepend(`<div class="col-md-4 p-3" style="float: left;" id="${
                thisItem.item_id
              }">
            <div class="card box-shadow" style="box-shadow: 5px 5px 10px #ccc">
              <img class="card-img-top" src="${
                thisItem.item_image
              }" height="220px">
               <div class="card-body">
                <h5>${thisItem.description}</h5>
                 <i class="fa fa-jpy d-inline" aria-hidden="true"><h7>${
                   thisItem.price
                 }</h7><h7>（${price_discuss}）</h7></i><div class="d-flex justify-content-between align-items-center">
                <div class="btn-group pt-2">
               <a onclick="renderIdleModal(this)" data-idle='${JSON.stringify(
                 thisItem
               )}' data-toggle="modal" data-target="#item_view1" class="btn btn-sm btn-outline-secondary">详情</a>
              <!--<a href="/item/item_edit.html#/page/${thisItem.item_id}" class="btn btn-sm btn-outline-secondary"> 编辑</a>-->
             </div>
            <small class="text-muted">创建: ${create_time}</small>
          </div>
         </div>
        </div>
        </div>`);
            }
          } else {
            alter('暂无数据');
          }
        })
        .catch(function(error) {
          console.log(error);
        });
    </script>
    <!------------------上传用户头像----------------->
    <script>
      $('#userimage').change(function(event) {
        // console.log(event)
        if (typeof FileReader != 'undefined') {
          var dvPreview = $('#preview');
          dvPreview.html('');
          var regex = /(.jpg|.jpeg|.gif|.png|.bmp)$/;
          // 上传头像只有一张，建议可以去掉 each
          $($(this)[0].files).each(function() {
            var file = $(this);
            if (regex.test(file[0].name.toLowerCase())) {
              var reader = new FileReader();
              reader.onload = function(e) {
                var img = $('<img />');
                img.attr('src', e.target.result);
                dvPreview.append(img);
              };
              reader.readAsDataURL(file[0]);
              // 上传至OSS
              // let file = e.target.files[0];
              /* eslint-disable no-undef */
              let param = new FormData(); // 创建form对象
              param.append('file', file[0], file[0].name); // 通过append向form对象添加数据
              console.log(param.get('file')); // FormData私有类对象，访问不到，可以通过get判断值是否传进去
              let config = {
                headers: {
                  'Content-Type': 'multipart/form-data'
                }
              };
              // 添加请求头
              axios.post('/qiju/file/upload', param, config).then(response => {
                console.log(response.data);
                if (response.data.url) {
                  $('#user_image_url').val(response.data.url);
                }
              });
            } else {
              alert(
                file[0].name +
                  '格式有误，请选择上传.jpg/.jpeg/.gif/.png/.bmp格式的图片哦.'
              );
              dvPreview.html('');
              return false;
            }
          });
        } else {
          // 不支持HTML5 FileReader
          var file = event.target.files[0];
          var param = new FormData(); // 创建form对象
          param.append('file', file, file.name); // 通过append向form对象添加数据
          console.log(param.get('file')); // FormData私有类对象，访问不到，可以通过get判断值是否传进去
          var config = {
            headers: {
              'Content-Type': 'multipart/form-data'
            }
          };
          //添加请求头
          axios.post('/qiju/file/upload', param, config).then(response => {
            console.log(response.data);
            if (response.data.url) {
              $('#user_image_url').val(response.data.url);
              $('#preview img').attr('src', response.data.url);
            }
          });
        }
      });
      $('#save_update_info').click(function() {
        //修改用户个人信息
        axios
          .post('/qiju/user/user_page', {
            user_name: $('#inputuser_name').val(), //修改的用户名
            gender: $('#gender option:selected').val(),
            region: $('#region option:selected').val(),
            user_image: $('#user_image_url').val() //获取上传图片路径url,待完善
          })
          .then(function(response) {
            console.log(response);
            if (response.data.code === 1) {
              // 修改成功后隐藏模态框
              $('#hiden-modal').click();
              // location.href="user_page.html";
              alert('(*^_^*) 修改成功');
            } else {
              alert('Ooh，修改失败了，请填完所有信息再试试哦~');
            }
          })
          .catch(function(error) {
            console.log(error);
          });
      });
    </script>
    <script type="text/javascript">
      /*var oLis=document.getElementsByTagName("li");*/
      var oLis = $('.navigator');
      var i, j;
      var length = oLis.length;
      for (i = 0; i < length; i++) {
        oLis[i].onclick = function() {
          for (j = 0; j < length; j++) {
            oLis[j].className = '';
          }
          this.className += 'clickstyle';
        };
      }
    </script>
  </body>
</html>
